<head>
  <title>Objective</title>
</head>

<body>
	{{#if currentUser}}
		{{> dashboard}}
	{{else}}	
		{{> login}}
	{{/if}}
</body>

<template name="login">
	<div id="loginContainer" class="container">
		<ul id="loginNav" class="container nav nav-tabs nav-justified">
			<li id="login-tab" class="active"><a data-toggle="tab" href="#login-pane">Log in</a></li>
			<li id="signup-tab"><a data-toggle="tab" href="#signup-pane">Sign up</a></li>
		</ul>
		<div id="loginContent" class="container tab-content">
			<div id="login-pane" class="container tab-pane fade in active">	
				<form id="login-form" action="action" class="form-horizontal">
					<label>Email:</label><input id="loginEmail" type="email" name="loginEmail">
					<label>Password:</label><input id="loginPassword" type="password" name="loginPassword">
					<p><a data-toggle="tab" href="#recovery-pane" id="forgotPasswordLink">Forgot Password?</a></p>
					<input id="loginbtn" class="btn btn-default loginbtn" type="submit" value="Log in">
				</form>
			</div>

			<script>
				$('#forgotPasswordLink').click(function (event) {
					$('#login-tab').removeClass('active');
					$('#signup-tab').removeClass('active');
				});
			</script>

			<div id="signup-pane" class="container tab-pane fade">
				<form id="signup-form" action="action" class="form-horizontal">
					<label>Email:</label><input id="signupEmail" type="email" name="signupEmail">
					<label>Display Name (optional):</label><input id="signupDisplayName" type="text" name="signupDisplayName">
					<label>Password:</label><input id="signupPassword" type="password" name="signupPassword">
					<label>Confirm Password:</label><input id="signupConfirmPassword" type="password" name="signupConfirmPassword">
					<br>
					<input id="signupbtn" class="btn btn-default loginbtn" type="submit" value="Sign up">
				</form>
			</div>

			<div id="recovery-pane" class="container tab-pane fade">
				{{#if resetPassword}}
					<form id="new-password-form" action="action" class="form-horizontal">
						<h4>Reset Password</h4>
						<label>New Password:</label><input id ="newPassword" type="password" name="newPassword">
						<label>Confirm New Password:</label><input id ="confirmNewPassword" type="password" name="confirmNewPassword">
						<input id="changePasswordbtn" class="btn btn-default loginbtn" type="submit" value="Change Password">
					</form>
				{{else}}
					<form id="recovery-form" action="action" class="form-horizontal">
						<h4>Recover Password</h4>
						<label>Email:</label>
						<input id ="recoveryEmail" type="text" name="recoveryEmail">
						<input id="sendResetInstructionbtn" class="btn btn-default loginbtn" type="submit" value="Send Reset Instructions">
					</form>
				{{/if}}
			</div>
		</div>
	</div>
</template>

<!--
<template name="passwordRecovery">
	{{#if resetPassword}}
		<form id="new-password-form" action="action" class="form-horizontal">
			<div class="container">
				<label>New Password:<input id ="newPassword" type="password" name="newPassword"></label>
				<label>Confirm New Password:<input id ="confirmNewPassword" type="password" name="confirmNewPassword"></label>
				<input id="changePasswordbtn" class="btn btn-default loginbtn" type="submit" value="Change Password">
			</div>
		</form>
	{{else}}
		<form id="recovery-form" action="action" class="form-horizontal">
			<div class="container">
				<label>Email:<input id ="recoveryEmail" type="text" name="recoveryEmail"></label>
				<input id="sendResetInstructionbtn" class="btun btn-default loginbtn" type="submit" value="Send Reset Instructions"> 
			</div>
		</form>
	{{/if}}
</template>
-->

<template name="dashboard">
	<div class="container">
		<br>
		<p>Welcome 
			{{#if currentUser.profile.name}}
				{{currentUser.profile.name}}
			{{else}}
				{{currentUser.username}}
			{{/if}}
		</p>
		<p><a id="logout" href="#">Logout</a></p>
	</div>
</template>
